---
import MainLayout from "@layouts/MainLayout.astro";
import { DEFAULT_METADATA } from "@util/constants";
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

interface Props {
  entry: CollectionEntry<"projects">;
}

export async function getStaticPaths() {
  const projectCaseStudies = await getCollection("projects", ({ data }) => {
    return data.hasCaseStudy === true;
  });
  return projectCaseStudies.map((entry) => ({
    params: { slug: entry.id },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<MainLayout metadata={DEFAULT_METADATA}>
  <Content />
  <a href="/projects" class="back-link">‚Üê Back to Projects</a>
</MainLayout>

<style>
  .back-link {
    color: var(--pink);
    display: block;
    font-size: 1.5rem;
    font-weight: bold;
    margin: 2.5rem 0 1.5rem;
    text-align: center;
    text-decoration: none;
    transition: text-decoration 0.3s;
    width: 100%;
  }

  .back-link:hover {
    text-decoration: underline double var(--blue);
  }
</style>

<!-- <style>

  

  .cs-data {
    align-items: center;
    display: grid;
    grid-template-columns: 1fr 0.1fr 1fr;
    grid-template-rows: 0.5fr 0.5fr;
    margin-top: 3%;
    grid-template-areas:
      "tech-title divider link-title"
      "tech-list divider link-list";
  }

  .tech-title {
    font-size: 1.25rem;
    font-weight: bold;
    grid-area: tech-title;
    margin-bottom: 0;
    text-align: center;
    text-transform: uppercase;
  }

  .link-title {
    font-size: 1.25rem;
    font-weight: bold;
    grid-area: link-title;
    margin-bottom: 0;
    text-align: center;
    text-transform: uppercase;
  }

  .tech-data {
    display: flex;
    flex-wrap: wrap;
    grid-area: tech-list;
    justify-content: center;
  }

  .tech-data span {
    color: var(--pink);
    font-size: 0.9rem;
    font-weight: 600;
    letter-spacing: 0.75px;
    margin: 1% 1.75%;
    text-transform: uppercase;
  }

  .tech-data span:nth-child(2n) {
    color: var(--purple);
  }

  .tech-data span:nth-child(3n) {
    color: var(--blue);
  }

  .tech-data span:nth-child(4n) {
    color: var(--green);
  }

  .link-data {
    display: flex;
    flex-wrap: wrap;
    grid-area: link-list;
    justify-content: center;
  }

  .link-data a {
    border-radius: 5px;
    margin: 1% 2%;
    padding: 1% 2.5%;
    transition:
      color 0.2s ease-in-out,
      background 0.2s ease-in-out;
  }

  .link-demo {
    color: var(--blue);
    text-decoration: underline solid var(--blue);
  }

  .link-demo:hover {
    background: var(--blue);
    color: var(--text-flip);
  }

  .link-code {
    color: var(--green);
    text-decoration: underline solid var(--green);
  }

  .link-code:hover {
    background: var(--green);
    color: var(--text-flip);
  }

  .link-live {
    color: var(--purple);
    text-decoration: underline solid var(--purple);
  }

  .link-live:hover {
    background: var(--purple);
    color: var(--text-flip);
  }

  .vertical-divider {
    background: var(--gradient);
    grid-area: divider;
    height: 100%;
    justify-self: center;
    width: 3px;
  }

  

  @media (max-width: 1024px) {
    

    .cs-data {
      grid-template-columns: 1fr;
      grid-template-rows: 0.5fr 1fr 0.1fr 1fr 0.5fr;
      grid-template-areas:
        "tech-title" "tech-list"
        "divider"
        "link-title" "link-list";
    }

    .vertical-divider {
      width: 50dvw;
    }

    .tech-data {
      margin-bottom: 0.25rem;
    }

    .link-title {
      margin-top: 0.5rem;
    }

    
  }
</style> -->
